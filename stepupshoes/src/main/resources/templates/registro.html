<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: head">
    <title>Registro - StepUp Shoes</title>
</head>
<body>
    <div th:replace="fragments/header :: header"></div>
    <div th:replace="fragments/nav :: nav"></div>

    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <h1>Crear Cuenta</h1>
                <p>Reg√≠strate para empezar a comprar</p>
            </div>

            <form id="registerForm" class="auth-form" th:action="@{/registro}" method="post">
                <div class="form-group">
                    <label for="nombre">Nombre Completo</label>
                    <input type="text" id="nombre" name="nombre" placeholder="Tu nombre completo" required>
                    <div class="error-message" id="error-nombre"></div>
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="tu@email.com" required>
                    <div class="error-message" id="error-email"></div>
                </div>

                <div class="form-group">
                    <label for="password">Contrase√±a</label>
                    <input type="password" id="password" name="password" placeholder="M√≠nimo 6 caracteres" required>
                    <div class="error-message" id="error-password"></div>
                </div>

                <div class="form-group">
                    <label for="confirmPassword">Confirmar Contrase√±a</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Repite tu contrase√±a" required>
                    <div class="error-message" id="error-confirmPassword"></div>
                </div>

                <div class="form-group">
                    <label class="terms-agreement">
                        <input type="checkbox" name="terms" required>
                        Acepto los <a href="#">t√©rminos y condiciones</a> y la <a href="#">pol√≠tica de privacidad</a>
                    </label>
                    <div class="error-message" id="error-terms"></div>
                </div>

                <button type="submit" class="btn btn-primary btn-auth">
                    Crear Cuenta
                </button>

                <div class="auth-divider">
                    <span>o registrarse con</span>
                </div>

                <div class="social-auth">
                    <button type="button" class="btn btn-social btn-google">
                        <img src="/images/google-icon.svg" alt="Google">
                        Google
                    </button>
                    <button type="button" class="btn btn-social btn-facebook">
                        <img src="/images/facebook-icon.svg" alt="Facebook">
                        Facebook
                    </button>
                </div>

                <div class="auth-switch">
                    ¬øYa tienes cuenta? <a th:href="@{/login}">Inicia sesi√≥n aqu√≠</a>
                </div>
            </form>
        </div>

        <div class="auth-benefits">
            <h3>√önete a nuestra comunidad</h3>
            <div class="benefits-list">
                <div class="benefit-item">
                    <span class="benefit-icon">üéÅ</span>
                    <div class="benefit-text">
                        <strong>10% de descuento</strong>
                        <p>En tu primera compra al registrarte</p>
                    </div>
                </div>
                <div class="benefit-item">
                    <span class="benefit-icon">‚≠ê</span>
                    <div class="benefit-text">
                        <strong>Programa de puntos</strong>
                        <p>Gana puntos en cada compra</p>
                    </div>
                </div>
                <div class="benefit-item">
                    <span class="benefit-icon">üìß</span>
                    <div class="benefit-text">
                        <strong>Ofertas exclusivas</strong>
                        <p>Recibe promociones antes que nadie</p>
                    </div>
                </div>
                <div class="benefit-item">
                    <span class="benefit-icon">üöÄ</span>
                    <div class="benefit-text">
                        <strong>Checkout r√°pido</strong>
                        <p>Guarda tu informaci√≥n para compras futuras</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div th:replace="fragments/footer :: footer"></div>

    <style>
    .terms-agreement {
        display: flex;
        align-items: flex-start;
        gap: 0.5rem;
        font-size: 0.9rem;
        cursor: pointer;
        line-height: 1.4;
    }

    .terms-agreement a {
        color: var(--accent-color);
        text-decoration: none;
    }

    .terms-agreement a:hover {
        text-decoration: underline;
    }

    /* Reutilizamos los estilos del login con algunas modificaciones */
    </style>

    <script>
    // Validaci√≥n del formulario de registro
    document.getElementById('registerForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const nombre = document.getElementById('nombre').value;
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const terms = document.querySelector('input[name="terms"]').checked;
        
        let isValid = true;
        
        // Validar nombre
        if (nombre.trim().length < 2) {
            mostrarError('nombre', 'El nombre debe tener al menos 2 caracteres');
            isValid = false;
        } else {
            ocultarError('nombre');
        }
        
        // Validar email
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email)) {
            mostrarError('email', 'Por favor ingresa un email v√°lido');
            isValid = false;
        } else {
            ocultarError('email');
        }
        
        // Validar contrase√±a
        if (password.length < 6) {
            mostrarError('password', 'La contrase√±a debe tener al menos 6 caracteres');
            isValid = false;
        } else {
            ocultarError('password');
        }
        
        // Validar confirmaci√≥n de contrase√±a
        if (password !== confirmPassword) {
            mostrarError('confirmPassword', 'Las contrase√±as no coinciden');
            isValid = false;
        } else {
            ocultarError('confirmPassword');
        }
        
        // Validar t√©rminos
        if (!terms) {
            mostrarError('terms', 'Debes aceptar los t√©rminos y condiciones');
            isValid = false;
        } else {
            ocultarError('terms');
        }
        
        if (isValid) {
            // Enviar formulario
            this.submit();
        }
    });
    
    function mostrarError(campo, mensaje) {
        const errorElement = document.getElementById(`error-${campo}`);
        if (errorElement) {
            errorElement.textContent = mensaje;
            errorElement.classList.add('show');
        }
    }
    
    function ocultarError(campo) {
        const errorElement = document.getElementById(`error-${campo}`);
        if (errorElement) {
            errorElement.classList.remove('show');
        }
    }
    </script>
</body>
</html>