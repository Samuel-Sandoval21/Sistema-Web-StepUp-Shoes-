<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <!-- âœ… MANTENER: head fragment como estÃ¡ -->
    <head th:fragment="head">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title th:text="${titulo} + ' - StepUp Shoes'">StepUp Shoes</title>
        
        <!-- âœ… AÃ‘ADIR: Bootstrap primero -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        
        <!-- âœ… ORDENAR: CSS en orden lÃ³gico -->
        <link rel="stylesheet" th:href="@{/css/nav.css}">
        <link rel="stylesheet" th:href="@{/css/style.css}">
        
        <!-- âœ… QUITAR TEMPORALMENTE: CSS condicionales para probar -->
        <!-- 
        <link rel="stylesheet" th:href="@{/css/catalogo.css}">
        <link rel="stylesheet" th:href="@{/css/auth.css}">
        <link rel="stylesheet" th:href="@{/css/carrito.css}">
        <link rel="stylesheet" th:href="@{/css/checkout.css}">
        -->
    </head>

    <!-- âœ… MANTENER: header fragment como estÃ¡ pero CORREGIR errores -->
    <div th:fragment="header">
        <header class="header">
            <div class="container">
                <nav class="navbar">
                    <a th:href="@{/}" class="logo">StepUp Shoes</a>

                    <ul class="nav-links">
                        <li><a th:href="@{/}">Inicio</a></li>
                        <li><a th:href="@{/catalogo}">CatÃ¡logo</a></li>
                        <li><a th:href="@{/promociones}">Promociones</a></li>
                        <li><a th:href="@{/contacto}">Contacto</a></li>
                    </ul>

                    <div class="nav-actions">

                        <!-- Buscador -->
                        <form th:action="@{/catalogo/buscar}" method="get" class="search-form">
                            <input type="text" name="q" placeholder="Buscar productos...">
                        </form>

                        <!-- Usuario y Carrito -->
                        <div class="user-actions">
                            <a th:href="@{/login}" class="btn-login">INICIAR SESIÃ“N</a>

                            <a th:href="@{/carrito/ver}" class="btn-carrito">
                                ðŸ›’ Carrito (<span id="carritoCountDesktop">0</span>)
                            </a>
                        </div>

                    </div>
                </nav>
            </div>
        </header>
    </div>

    <!-- âœ… MANTENER: popup pero con display none por defecto -->
    <div id="popup-carrito" class="popup" style="display: none;">
        <div class="popup-content">
            <div id="carrito-content"></div>
        </div>
    </div>

    <!-- âœ… CORREGIR: Scripts - PONERLOS AQUÃ PERO MÃS ADELANTE LOS MOVEREMOS -->
    <!-- 
    <script th:src="@{/js/main.js}"></script>
    <script th:src="@{/js/carrito.js}"></script>
    <script th:src="@{/js/auth.js}"></script>
    <script th:src="@{/js/checkout.js}"></script>
    -->
</html>